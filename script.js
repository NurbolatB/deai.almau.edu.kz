// –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
const translations = {
    ru: {
        // Header
        'register-btn': '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è',
        
        // Hero section
        'hero-title': 'Digitalization of Education in the Era of AI',
        'hero-desc': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –Ω–∞—É—á–Ω–æ-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è',
        'hero-meta': 'üìÖ –ê–ª–º–∞—Ç—ã, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω 17-18 –º–∞—Ä—Ç–∞ 2026',
        'hero-cta': '–£–∑–Ω–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É',
        
        // Navigation
        'nav-about': '–û –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'nav-program': '–¢–µ–º—ã',
        'nav-speakers': '–°–ø–∏–∫–µ—Ä—ã',
        'nav-faq': 'FAQ',
        'nav-contacts': '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        
        // About section
        'about-title': '–û –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'about-text': '–ó–¥–µ—Å—å –±—É–¥–µ—Ç –±–ª–æ–∫ ¬´–æ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏¬ª ‚Äî —Ü–µ–ª—å, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã, –ø–∞—Ä—Ç–Ω—ë—Ä—ã.',
        
        // Program section
        'program-title': '–¢–µ–º—ã',
        'program-session-1': '–û—Ç–∫—Ä—ã—Ç–∏–µ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'program-speaker-1': '–î–æ–∫–ª–∞–¥—á–∏–∫ ‚Äî –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        
        // Speakers section
        'speakers-title': '–°–ø–∏–∫–µ—Ä—ã',
        'speaker-1-name': '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        'speaker-1-bio': '–ö—Ä–∞—Ç–∫–∞—è –±–∏–æ–≥—Ä–∞—Ñ–∏—è.',
        
        
        // Registration section
        'registration-title': '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è',
        'registration-desc': '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É, —á—Ç–æ–±—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—é.',
        'label-name': '–ò–º—è',
        'label-email': 'Email',
        'label-affiliation': '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è',
        'submit-btn': '–û—Ç–ø—Ä–∞–≤–∏—Ç—å',
        'reset-btn': '–û—á–∏—Å—Ç–∏—Ç—å',
        'form-success': '–°–ø–∞—Å–∏–±–æ! –í—Ä–µ–º–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞: –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.',
        'form-hint': '–≠—Ç–æ –∑–∞–≥–ª—É—à–∫–∞ ‚Äî –ø–æ–∑–∂–µ –∑–∞–º–µ–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∞ Google Form –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä.',
        
        // Contacts section
        'contacts-title': '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        'contacts-text': 'Email: conf@example.edu ‚Ä¢ –ê–¥—Ä–µ—Å: –≥. –ê–ª–º–∞—Ç—ã',
        
        // Footer
        'footer-text': '¬© –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã ‚Äî AlmaU'
    },
    
    kz: {
        // Header
        'register-btn': '–¢—ñ—Ä–∫–µ–ª—É',
        
        // Hero section
        'hero-title': 'Digitalization of Education in the Era of AI',
        'hero-desc': '–•–∞–ª—ã“õ–∞—Ä–∞–ª—ã“õ “ì—ã–ª—ã–º–∏-—Ç”ô–∂—ñ—Ä–∏–±–µ–ª—ñ–∫ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è',
        'hero-meta': 'üìÖ –ê–ª–º–∞—Ç—ã, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω 17-18 –Ω–∞—É—Ä—ã–∑ 2026',
        'hero-cta': '–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞–Ω—ã –±—ñ–ª—É',
        
        // Navigation
        'nav-about': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è —Ç—É—Ä–∞–ª—ã',
        'nav-program': '–¢–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä',
        'nav-speakers': '–°–ø–∏–∫–µ—Ä–ª–µ—Ä',
        'nav-faq': '–°“±—Ä–∞“õ—Ç–∞—Ä',
        'nav-contacts': '–ë–∞–π–ª–∞–Ω—ã—Å',
        
        // About section
        'about-title': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è —Ç—É—Ä–∞–ª—ã',
        'about-text': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è–Ω—ã“£ –º–∞“õ—Å–∞—Ç—ã, “±–π—ã–º–¥–∞—Å—Ç—ã—Ä—É—à—ã–ª–∞—Ä, —Å–µ—Ä—ñ–∫—Ç–µ—Å—Ç–µ—Ä —Ç—É—Ä–∞–ª—ã –∞“õ–ø–∞—Ä–∞—Ç.',
        
        // Program section
        'program-title': '–¢–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä',
        'program-session-1': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è–Ω—ã“£ –∞—à—ã–ª—É—ã',
        'program-speaker-1': '–î–æ–∫–ª–∞–¥—à—ã ‚Äî –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        
        // Speakers section
        'speakers-title': '–°–ø–∏–∫–µ—Ä–ª–µ—Ä',
        'speaker-1-name': '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        'speaker-1-bio': '“ö—ã—Å“õ–∞—à–∞ ”©–º—ñ—Ä–±–∞—è–Ω—ã.',
        
        
        // Registration section
        'registration-title': '–¢—ñ—Ä–∫–µ–ª—É',
        'registration-desc': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è“ì–∞ —Ç—ñ—Ä–∫–µ–ª—É “Ø—à—ñ–Ω —Ñ–æ—Ä–º–∞–Ω—ã —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑.',
        'label-name': '–ê—Ç—ã-–∂”©–Ω—ñ',
        'label-email': '–≠–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ –ø–æ—à—Ç–∞',
        'label-affiliation': '“∞–π—ã–º',
        'submit-btn': '–ñ—ñ–±–µ—Ä—É',
        'reset-btn': '–¢–∞–∑–∞—Ä—Ç—É',
        'form-success': '–†–∞—Ö–º–µ—Ç! –£–∞“õ—ã—Ç—à–∞ —Ñ–æ—Ä–º–∞: –¥–µ—Ä–µ–∫—Ç–µ—Ä —Å–∞“õ—Ç–∞–ª–º–∞–π–¥—ã.',
        'form-hint': '–ë“±–ª —É–∞“õ—ã—Ç—à–∞ –Ω“±—Å“õ–∞ ‚Äî –∫–µ–π—ñ–Ω Google Forms-–ø–µ–Ω –∞—É—ã—Å—Ç—ã—Ä—ã“£—ã–∑.',
        
        // Contacts section
        'contacts-title': '–ë–∞–π–ª–∞–Ω—ã—Å',
        'contacts-text': 'Email: conf@example.edu ‚Ä¢ –ú–µ–∫–µ–Ω-–∂–∞–π—ã: –ê–ª–º–∞—Ç—ã “õ.',
        
        // Footer
        'footer-text': '¬© “∞–π—ã–º–¥–∞—Å—Ç—ã—Ä—É—à—ã–ª–∞—Ä ‚Äî AlmaU'
    },
    
    en: {
        // Header
        'register-btn': 'Register',
        
        // Hero section
        'hero-title': 'Digitalization of Education in the Era of AI',
        'hero-desc': 'International Scientific and Practical Conference',
        'hero-meta': 'üìÖ Almaty, Kazakhstan March 17-18, 2026',
        'hero-cta': 'View Program',
        
        // Navigation
        'nav-about': 'About',
        'nav-program': 'Topics',
        'nav-speakers': 'Speakers',
        'nav-faq': 'FAQ',
        'nav-contacts': 'Contacts',
        
        // About section
        'about-title': 'About Conference',
        'about-text': 'Information about the conference goals, organizers, and partners.',
        
        // Program section
        'program-title': 'Topics',
        'program-session-1': 'Conference Opening',
        'program-speaker-1': 'Speaker ‚Äî Ivan Ivanov',
        
        // Speakers section
        'speakers-title': 'Speakers',
        'speaker-1-name': 'Ivan Ivanov',
        'speaker-1-bio': 'Short biography.',
    
        
        // Registration section
        'registration-title': 'Registration',
        'registration-desc': 'Fill out the form to register for the conference.',
        'label-name': 'Name',
        'label-email': 'Email',
        'label-affiliation': 'Organization',
        'submit-btn': 'Submit',
        'reset-btn': 'Clear',
        'form-success': 'Thank you! Temporary form: data will not be saved.',
        'form-hint': 'This is a placeholder ‚Äî replace with Google Forms later.',
        
        // Contacts section
        'contacts-title': 'Contacts',
        'contacts-text': 'Email: conf@example.edu ‚Ä¢ Address: Almaty',
        
        // Footer
        'footer-text': '¬© Organizers ‚Äî AlmaU'
    }
};

// –¢–µ–∫—É—â–∏–π —è–∑—ã–∫
let currentLang = 'ru';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —è–∑—ã–∫–∞
function changeLanguage(lang) {
    if (!translations[lang]) return;
    
    currentLang = lang;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å data-i18n –∞—Ç—Ä–∏–±—É—Ç–æ–º
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (element.tagName === 'INPUT' && element.type !== 'submit') {
                element.placeholder = translations[lang][key];
            } else if (element.tagName === 'BUTTON' && element.type === 'submit') {
                element.textContent = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º aria-selected —É –∫–Ω–æ–ø–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
    document.querySelectorAll('.lang-btn').forEach(btn => {
        const btnLang = btn.getAttribute('data-lang');
        btn.setAttribute('aria-selected', btnLang === lang);
    });
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ –≤ localStorage
    localStorage.setItem('preferred-language', lang);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
// function handleDummySubmit(event) {
   // event.preventDefault();
  //  const feedback = document.getElementById('form-feedback');
 //   feedback.hidden = false;
 //   feedback.textContent = translations[currentLang]['form-success'];
    
    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
//    event.target.reset();
    
    // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
//    setTimeout(() => {
//        feedback.hidden = true;
//    }, 5000);
//}

// === GOOGLE SHEETS FORM SUBMISSION ===
document.addEventListener('DOMContentLoaded', function () {
  const form = document.getElementById('conference-form');
  const status = document.getElementById('form-status');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    status.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
    status.style.color = '#555';

    const data = Object.fromEntries(new FormData(form).entries());

    try {
      const response = await fetch('https://script.google.com/macros/s/AKfycbz66PWXogEpyQEmTO4_NzptJogptrhyB5CsQYphaVYOws-zta6yAKitQpPIvbf7BIOVQQ/exec', { 
        // ‚¨ÜÔ∏è –≤—Å—Ç–∞–≤—å —Å—é–¥–∞ —Å–≤–æ–π URL –∏–∑ Google Apps Script https://script.google.com/macros/s/AKfycbz66PWXogEpyQEmTO4_NzptJogptrhyB5CsQYphaVYOws-zta6yAKitQpPIvbf7BIOVQQ/exec
        method: 'POST',
        body: JSON.stringify(data),
        headers: { 'Content-Type': 'application/json' },
      });

      const result = await response.json();

      if (result.result === 'success') {
        status.textContent = '‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!';
        status.style.color = 'green';
        form.reset();
      } else {
        status.textContent = '‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
        status.style.color = 'orange';
      }
    } catch (err) {
      console.error('–û—à–∏–±–∫–∞:', err);
      status.textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
      status.style.color = 'red';
    }
  });
});


// === Formspree: –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ===
const form = document.getElementById('registration-form');
const successMsg = document.getElementById('form-success');

if (form) {
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const data = new FormData(form);

    try {
      const response = await fetch(form.action, {
        method: form.method,
        body: data,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        form.reset();
        successMsg.textContent = translations[currentLang]['form-success'];
        successMsg.style.display = 'block';
        successMsg.style.opacity = 0;
        successMsg.style.transition = 'opacity 0.6s';
        setTimeout(() => successMsg.style.opacity = 1, 50);
        setTimeout(() => {
          successMsg.style.opacity = 0;
          setTimeout(() => successMsg.style.display = 'none', 600);
        }, 5000);
      } else {
        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
      }
    } catch (err) {
      alert('–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.');
    }
  });
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —è–∑—ã–∫ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä—É—Å—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    const savedLang = localStorage.getItem('preferred-language') || 'ru';
    changeLanguage(savedLang);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            changeLanguage(lang);
        });
    });
    
    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è —è–∫–æ—Ä–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});




// Speakers show more/less
const showMoreBtn = document.getElementById('show-more-speakers');
const addlCards = document.querySelectorAll('#speakers-list .addl');
let expanded = false;

showMoreBtn.addEventListener('click', () => {
  expanded = !expanded;
  addlCards.forEach(el => el.style.display = expanded ? 'block' : 'none');
  showMoreBtn.textContent = expanded ? '–ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—å—à–µ' : '–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ';
});

document.querySelectorAll('.info-toggle').forEach(btn => {
  btn.addEventListener('click', function() {
    const block = btn.closest('.info-block');
    block.classList.toggle('open');
    btn.classList.toggle('active');
  });
});

document.querySelectorAll('.info-toggle').forEach(btn => {
  btn.addEventListener('click', function() {
    // –ù–∞–π—Ç–∏ –±–ª–∏–∂–∞–π—à–∏–π —Å–æ—Å–µ–¥–Ω–∏–π .info-content –ø–æ—Å–ª–µ –∫–Ω–æ–ø–∫–∏
    const content = btn.nextElementSibling;
    if (content && content.classList.contains('info-content')) {
      content.style.display = (content.style.display === 'block') ? 'none' : 'block';
      btn.classList.toggle('active');
    }
  });
});

