// –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
const translations = {
    ru: {
        // Header
        'register-btn': '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è',
        
        // Hero section
        'hero-title': 'Digitalization of Education in the Era of AI',
        'hero-desc': '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –Ω–∞—É—á–Ω–æ-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è',
        'hero-meta': 'üìÖ –ê–ª–º–∞—Ç—ã, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω 17-18 –º–∞—Ä—Ç–∞ 2026',
        'hero-cta': '–£–∑–Ω–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É',
        
        // Navigation
        'nav-about': '–û –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'nav-program': '–¢–µ–º—ã',
        'nav-speakers': '–°–ø–∏–∫–µ—Ä—ã',
        'nav-faq': 'FAQ',
        'nav-contacts': '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        
        // About section
        'about-title': '–û –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'about-text': '–ó–¥–µ—Å—å –±—É–¥–µ—Ç –±–ª–æ–∫ ¬´–æ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏¬ª ‚Äî —Ü–µ–ª—å, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã, –ø–∞—Ä—Ç–Ω—ë—Ä—ã.',
        
        // Program section
        'program-title': '–¢–µ–º—ã',
        'program-session-1': '–û—Ç–∫—Ä—ã—Ç–∏–µ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'program-speaker-1': '–î–æ–∫–ª–∞–¥—á–∏–∫ ‚Äî –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        
        // Speakers section
        'speakers-title': '–°–ø–∏–∫–µ—Ä—ã',
        'speaker-1-name': '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        'speaker-1-bio': '–ö—Ä–∞—Ç–∫–∞—è –±–∏–æ–≥—Ä–∞—Ñ–∏—è.',
        
        // Registration section
        'registration-title': '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è',
        'registration-desc': '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏',
        'label-name': '–§–ò–û',
        'label-email': 'Email',
        'label-phone': '–¢–µ–ª–µ—Ñ–æ–Ω',
        'label-country': '–°—Ç—Ä–∞–Ω–∞',
        'label-organization': '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è / –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç',
        'label-role': '–†–æ–ª—å',
        'label-format': '–§–æ—Ä–º–∞—Ç —É—á–∞—Å—Ç–∏—è',
        'label-topic': '–¢–µ–º–∞ –¥–æ–∫–ª–∞–¥–∞',
        'label-comments': '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏',
        'role-participant': '–£—á–∞—Å—Ç–Ω–∏–∫',
        'role-speaker': '–î–æ–∫–ª–∞–¥—á–∏–∫',
        'role-student': '–°—Ç—É–¥–µ–Ω—Ç',
        'role-teacher': '–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å',
        'format-online': '–û–Ω–ª–∞–π–Ω',
        'format-offline': '–û—Ñ–ª–∞–π–Ω',
        'submit-btn': '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è',
        'submit-loading': '–û—Ç–ø—Ä–∞–≤–∫–∞...',
        'form-success': '‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ –≤–∞—à—É –ø–æ—á—Ç—É.',
        'form-error': '‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é.',
        'form-validation-name': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –§–ò–û',
        'form-validation-email': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email',
        'form-validation-organization': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é',
        'form-validation-role': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å',
        'form-validation-format': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç —É—á–∞—Å—Ç–∏—è',
        'form-validation-topic': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–µ–º—É –¥–æ–∫–ª–∞–¥–∞',

      

        
        // Contacts section
        'contacts-title': '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        'contacts-text1': 'üìç –ê–¥—Ä–µ—Å: –≥. –ê–ª–º–∞—Ç—ã, —É–ª. –†–æ–∑—ã–±–∞–∫–∏–µ–≤–∞, 227, –∫–∞–±–∏–Ω–µ—Ç 253',
        'contacts-text2': 'üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 701 761 9108',
        'contacts-text3': 'üìß E-mail: deai.almau.edu.kz',
        'contacts-text4': 'üåê –°–∞–π—Ç: https://almau.edu.kz',
        
        // Footer
        'footer-text': '¬© –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã ‚Äî AlmaU',
        
        // Speakers button
        'show-more-speakers': '–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ',
        'show-less-speakers': '–ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—å—à–µ'
    },
    
    kz: {
        // Header
        'register-btn': '–¢—ñ—Ä–∫–µ–ª—É',
        
        // Hero section
        'hero-title': 'Digitalization of Education in the Era of AI',
        'hero-desc': '–•–∞–ª—ã“õ–∞—Ä–∞–ª—ã“õ “ì—ã–ª—ã–º–∏-—Ç”ô–∂—ñ—Ä–∏–±–µ–ª—ñ–∫ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è',
        'hero-meta': 'üìÖ –ê–ª–º–∞—Ç—ã, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω 17-18 –Ω–∞—É—Ä—ã–∑ 2026',
        'hero-cta': '–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞–Ω—ã –±—ñ–ª—É',
        
        // Navigation
        'nav-about': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è —Ç—É—Ä–∞–ª—ã',
        'nav-program': '–¢–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä',
        'nav-speakers': '–°–ø–∏–∫–µ—Ä–ª–µ—Ä',
        'nav-faq': '–°“±—Ä–∞“õ—Ç–∞—Ä',
        'nav-contacts': '–ë–∞–π–ª–∞–Ω—ã—Å',
        
        // About section
        'about-title': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è —Ç—É—Ä–∞–ª—ã',
        'about-text': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è–Ω—ã“£ –º–∞“õ—Å–∞—Ç—ã, “±–π—ã–º–¥–∞—Å—Ç—ã—Ä—É—à—ã–ª–∞—Ä, —Å–µ—Ä—ñ–∫—Ç–µ—Å—Ç–µ—Ä —Ç—É—Ä–∞–ª—ã –∞“õ–ø–∞—Ä–∞—Ç.',
        
        // Program section
        'program-title': '–¢–∞“õ—ã—Ä—ã–ø—Ç–∞—Ä',
        'program-session-1': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è–Ω—ã“£ –∞—à—ã–ª—É—ã',
        'program-speaker-1': '–î–æ–∫–ª–∞–¥—à—ã ‚Äî –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        
        // Speakers section
        'speakers-title': '–°–ø–∏–∫–µ—Ä–ª–µ—Ä',
        'speaker-1-name': '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        'speaker-1-bio': '“ö—ã—Å“õ–∞—à–∞ ”©–º—ñ—Ä–±–∞—è–Ω—ã.',
        
        // Registration section
        'registration-title': '–¢—ñ—Ä–∫–µ–ª—É',
        'registration-desc': '–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è“ì–∞ “õ–∞—Ç—ã—Å—É “Ø—à—ñ–Ω —Ç”©–º–µ–Ω–¥–µ–≥—ñ —Ñ–æ—Ä–º–∞–Ω—ã —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑',
        'label-name': '–ê—Ç—ã-–∂”©–Ω—ñ',
        'label-email': '–≠–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ –ø–æ—à—Ç–∞',
        'label-phone': '–¢–µ–ª–µ—Ñ–æ–Ω',
        'label-country': '–ï–ª',
        'label-organization': '“∞–π—ã–º / –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç',
        'label-role': '–†”©–ª',
        'label-format': '“ö–∞—Ç—ã—Å—É —Ñ–æ—Ä–º–∞—Ç—ã',
        'label-topic': '–î–æ–∫–ª–∞–¥ —Ç–∞“õ—ã—Ä—ã–±—ã',
        'label-comments': '“ö–æ—Å—ã–º—à–∞ —Ç“Ø—Å—ñ–Ω—ñ–∫—Ç–µ–º–µ–ª–µ—Ä',
        'role-participant': '“ö–∞—Ç—ã—Å—É—à—ã',
        'role-speaker': '–î–æ–∫–ª–∞–¥—à—ã',
        'role-student': '–°—Ç—É–¥–µ–Ω—Ç',
        'role-teacher': '–û“õ—ã—Ç—É—à—ã',
        'format-online': '–û–Ω–ª–∞–π–Ω',
        'format-offline': '–û—Ñ–ª–∞–π–Ω',
        'submit-btn': '–¢—ñ—Ä–∫–µ–ª—É',
        'submit-loading': '–ñ—ñ–±–µ—Ä—ñ–ª—É–¥–µ...',
        'form-success': '‚úÖ –¢—ñ—Ä–∫–µ–ª—É —Å”ô—Ç—Ç—ñ –∞—è“õ—Ç–∞–ª–¥—ã! –ë—ñ–∑ —Å—ñ–∑–¥—ñ“£ –ø–æ—à—Ç–∞“£—ã–∑“ì–∞ —Ä–∞—Å—Ç–∞—É –∂—ñ–±–µ—Ä–¥—ñ–∫.',
        'form-error': '‚ùå –§–æ—Ä–º–∞–Ω—ã –∂—ñ–±–µ—Ä—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –æ—Ä—ã–Ω –∞–ª–¥—ã. “ö–∞–π—Ç–∞–ª–∞–ø –∫”©—Ä—ñ“£—ñ–∑ –Ω–µ–º–µ—Å–µ –±—ñ–∑–±–µ–Ω —Ç—ñ–∫–µ–ª–µ–π –±–∞–π–ª–∞–Ω—ã—Å—ã“£—ã–∑.',
        'form-validation-name': '–ê—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑',
        'form-validation-email': '–î“±—Ä—ã—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ –ø–æ—à—Ç–∞–Ω—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑',
        'form-validation-organization': '“∞–π—ã–º—ã“£—ã–∑–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑',
        'form-validation-role': '–†”©–ª—ñ“£—ñ–∑–¥—ñ —Ç–∞“£–¥–∞“£—ã–∑',
        'form-validation-format': '“ö–∞—Ç—ã—Å—É —Ñ–æ—Ä–º–∞—Ç—ã–Ω —Ç–∞“£–¥–∞“£—ã–∑',
        'form-validation-topic': '–î–æ–∫–ª–∞–¥ —Ç–∞“õ—ã—Ä—ã–±—ã–Ω –∫”©—Ä—Å–µ—Ç—ñ“£—ñ–∑',
        
        // Contacts section
        'contacts-title': '–ë–∞–π–ª–∞–Ω—ã—Å',
        'contacts-text1': 'üìç –ú–µ–∫–µ–Ω–∂–∞–π: –ê–ª–º–∞—Ç—ã –∫., –†–æ–∑—ã–±–∞–∫–∏–µ–≤–∞ –∫”©—à., 227, 253-–∫–∞–±–∏–Ω–µ—Ç',
        'contacts-text2': 'üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 701 761 9108',
        'contacts-text3': 'üìß E-mail: deai.almau.edu.kz',
        'contacts-text4': 'üåê –°–∞–π—Ç: https://almau.edu.kz',
        
        // Footer
        'footer-text': '¬© “∞–π—ã–º–¥–∞—Å—Ç—ã—Ä—É—à—ã–ª–∞—Ä ‚Äî AlmaU',
        
        // Speakers button
        'show-more-speakers': '–ö”©–±—ñ—Ä–µ–∫ –∫”©—Ä—Å–µ—Ç—É',
        'show-less-speakers': '–ê–∑—ã—Ä–∞“õ –∫”©—Ä—Å–µ—Ç—É'
    },
    
    en: {
        // Header
        'register-btn': 'Register',
        
        // Hero section
        'hero-title': 'Digitalization of Education in the Era of AI',
        'hero-desc': 'International Scientific and Practical Conference',
        'hero-meta': 'üìÖ Almaty, Kazakhstan March 17-18, 2026',
        'hero-cta': 'View Program',
        
        // Navigation
        'nav-about': 'About',
        'nav-program': 'Topics',
        'nav-speakers': 'Speakers',
        'nav-faq': 'FAQ',
        'nav-contacts': 'Contacts',
        
        // About section
        'about-title': 'About Conference',
        'about-text': 'Information about the conference goals, organizers, and partners.',
        
        // Program section
        'program-title': 'Topics',
        'program-session-1': 'Conference Opening',
        'program-speaker-1': 'Speaker ‚Äî Ivan Ivanov',
        
        // Speakers section
        'speakers-title': 'Speakers',
        'speaker-1-name': 'Ivan Ivanov',
        'speaker-1-bio': 'Short biography.',
        
        // Registration section
        'registration-title': 'Registration',
        'registration-desc': 'Fill out the form below to participate in the conference',
        'label-name': 'Full Name',
        'label-email': 'Email',
        'label-phone': 'Phone',
        'label-country': 'Country',
        'label-organization': 'Organization / University',
        'label-role': 'Role',
        'label-format': 'Participation Format',
        'label-topic': 'Presentation Topic',
        'label-comments': 'Additional Comments',
        'role-participant': 'Participant',
        'role-speaker': 'Speaker',
        'role-student': 'Student',
        'role-teacher': 'Teacher',
        'format-online': 'Online',
        'format-offline': 'Offline',
        'submit-btn': 'Register',
        'submit-loading': 'Submitting...',
        'form-success': '‚úÖ Registration completed successfully! We sent a confirmation to your email.',
        'form-error': '‚ùå An error occurred while submitting the form. Please try again or contact us directly.',
        'form-validation-name': 'Please enter your full name',
        'form-validation-email': 'Please enter a valid email',
        'form-validation-organization': 'Please enter your organization',
        'form-validation-role': 'Please select your role',
        'form-validation-format': 'Please select participation format',
        'form-validation-topic': 'Please specify presentation topic',
        
        // Contacts section
        'contacts-title': 'Contacts',
        'contacts-text1': 'üìç Address: Almaty, Rozybakiev st., 227, office 253',
        'contacts-text2': 'üì± Phone: +7 701 761 9108',
        'contacts-text3': 'üìß E-mail: deai.almau.edu.kz',
        'contacts-text4': 'üåê Website: https://almau.edu.kz',
        
        // Footer
        'footer-text': '¬© Organizers ‚Äî AlmaU',
        
        // Speakers button
        'show-more-speakers': 'Show more',
        'show-less-speakers': 'Show less'
    }
};

// –¢–µ–∫—É—â–∏–π —è–∑—ã–∫
let currentLang = 'ru';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —è–∑—ã–∫–∞
function changeLanguage(lang) {
    if (!translations[lang]) return;
    
    currentLang = lang;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å data-i18n –∞—Ç—Ä–∏–±—É—Ç–æ–º
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (element.tagName === 'INPUT' && element.type !== 'submit') {
                element.placeholder = translations[lang][key];
            } else if (element.tagName === 'BUTTON' && element.type === 'submit') {
                element.textContent = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º aria-selected —É –∫–Ω–æ–ø–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
    document.querySelectorAll('.lang-btn').forEach(btn => {
        const btnLang = btn.getAttribute('data-lang');
        btn.setAttribute('aria-selected', btnLang === lang);
    });
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ –≤ localStorage
    localStorage.setItem('preferred-language', lang);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Ñ–æ—Ä–º—ã
function showFormMessage(message, type = 'success') {
    const formMessages = document.getElementById('form-messages');
    if (!formMessages) return;
    
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${type}`;
    messageDiv.textContent = message;
    formMessages.appendChild(messageDiv);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        messageDiv.style.opacity = '0';
        setTimeout(() => messageDiv.remove(), 300);
    }, 5000);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Ñ–æ—Ä–º—ã
function clearFormMessages() {
    const formMessages = document.getElementById('form-messages');
    if (formMessages) {
        formMessages.innerHTML = '';
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email
function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã
function validateForm(formData) {
    console.log('üîç –ù–∞—á–∏–Ω–∞–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã...', formData);
    
    if (!formData.name || !formData.name.trim()) {
        console.error('‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è failed: –§–ò–û –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ');
        showFormMessage(translations[currentLang]['form-validation-name'], 'error');
        return false;
    }
    
    if (!formData.email || !formData.email.trim() || !isValidEmail(formData.email)) {
        console.error('‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è failed: Email –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π');
        showFormMessage(translations[currentLang]['form-validation-email'], 'error');
        return false;
    }
    
    if (!formData.organization || !formData.organization.trim()) {
        console.error('‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è failed: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞');
        showFormMessage(translations[currentLang]['form-validation-organization'], 'error');
        return false;
    }
    
    if (!formData.role) {
        console.error('‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è failed: –†–æ–ª—å –Ω–µ –≤—ã–±—Ä–∞–Ω–∞');
        showFormMessage(translations[currentLang]['form-validation-role'], 'error');
        return false;
    }
    
    if (!formData.format) {
        console.error('‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è failed: –§–æ—Ä–º–∞—Ç –Ω–µ –≤—ã–±—Ä–∞–Ω');
        showFormMessage(translations[currentLang]['form-validation-format'], 'error');
        return false;
    }
    
    if (formData.role === '–î–æ–∫–ª–∞–¥—á–∏–∫' && (!formData.topic || !formData.topic.trim())) {
        console.error('‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è failed: –¢–µ–º–∞ –¥–æ–∫–ª–∞–¥–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞');
        showFormMessage(translations[currentLang]['form-validation-topic'], 'error');
        return false;
    }
    
    console.log('‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ');
    return true;
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
    
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —è–∑—ã–∫ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä—É—Å—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    const savedLang = localStorage.getItem('preferred-language') || 'ru';
    console.log('üåê –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫:', savedLang);
    changeLanguage(savedLang);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            console.log('üîÑ –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ –Ω–∞:', lang);
            changeLanguage(lang);
        });
    });
    
    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è —è–∫–æ—Ä–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                console.log('üìú –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫:', this.getAttribute('href'));
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    
    
    
    // ===== –û–ë–†–ê–ë–û–¢–ö–ê –§–û–†–ú–´ –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –ß–ï–†–ï–ó STATIC FORMS =====
const registrationForm = document.getElementById('registration-form');
const roleSelect = document.getElementById('role');
const topicField = document.getElementById('topic-field');
const topicInput = document.getElementById('topic');

// –ü–æ–∫–∞–∑/—Å–∫—Ä—ã—Ç–∏–µ –ø–æ–ª—è —Ç–µ–º—ã –¥–ª—è –¥–æ–∫–ª–∞–¥—á–∏–∫–æ–≤
if (roleSelect && topicField) {
    roleSelect.addEventListener('change', function() {
        if (this.value === '–î–æ–∫–ª–∞–¥—á–∏–∫') {
            topicField.style.display = 'block';
            topicInput.required = true;
        } else {
            topicField.style.display = 'none';
            topicInput.required = false;
            topicInput.value = '';
        }
    });
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
if (registrationForm) {
    registrationForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const submitBtn = this.querySelector('button[type="submit"]');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoading = submitBtn.querySelector('.btn-loading');
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
        if (btnText && btnLoading) {
            btnText.style.display = 'none';
            btnLoading.style.display = 'inline';
        }
        submitBtn.disabled = true;
        
        // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        clearFormMessages();
        
        try {
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            console.log('üì¶ –°–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:', data);
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã (—Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è)
            if (!data.name || !data.name.trim()) {
                showFormMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –§–ò–û', 'error');
                return;
            }
            if (!data.email || !data.email.trim() || !isValidEmail(data.email)) {
                showFormMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email', 'error');
                return;
            }
            if (!data.organization || !data.organization.trim()) {
                showFormMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é', 'error');
                return;
            }
            if (!data.role) {
                showFormMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å', 'error');
                return;
            }
            if (!data.format) {
                showFormMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç —É—á–∞—Å—Ç–∏—è', 'error');
                return;
            }
            if (data.role === '–î–æ–∫–ª–∞–¥—á–∏–∫' && (!data.topic || !data.topic.trim())) {
                showFormMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ç–µ–º—É –¥–æ–∫–ª–∞–¥–∞', 'error');
                return;
            }
            
            console.log('‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ');
            
            // Static Forms URL
            const STATIC_FORMS_URL = 'https://api.staticforms.xyz/submit';
            console.log('üåê –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ Static Forms...');
            
            // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è Static Forms
            const staticFormsData = {
                accessKey: 'sf_j27hb35jef312k9f826af130',
                subject: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—é DEAI',
                name: data.name,
                email: data.email,
                phone: data.phone || '',
                country: data.country || '',
                organization: data.organization,
                role: data.role,
                format: data.format,
                topic: data.topic || '',
                comments: data.comments || '',
                replyTo: '@', // –û—Ç–≤–µ—Ç–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é
                redirectTo: 'https://nurbolatb.github.io/deai.almau.edu.kz/success.html'
            };
            
            console.log('üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:', staticFormsData);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –≤ Static Forms
            const response = await fetch(STATIC_FORMS_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(staticFormsData)
            });
            
            console.log('üì® –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:', response.status);
            console.log('üì® –û—Ç–≤–µ—Ç OK:', response.ok);
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const result = await response.json();
            console.log('üìä –û—Ç–≤–µ—Ç –æ—Ç Static Forms:', result);
            
            if (result.success) {
                console.log('‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Static Forms');
                showFormMessage('‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º...', 'success');
                registrationForm.reset();
                if (topicField) {
                    topicField.style.display = 'none';
                }
                
                // –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç
                setTimeout(() => {
                    window.location.href = 'https://nurbolatb.github.io/deai.almau.edu.kz/success.html';
                }, 2000);
            } else {
                throw new Error(result.message || '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ Static Forms');
            }
            
        } catch (error) {
            console.error('üí• –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:', error);
            
            // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –æ—Ç–∫—Ä—ã—Ç—å –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç
            console.log('üîÑ –ü—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ email...');
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            sendViaEmail(data);
            
        } finally {
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            if (btnText && btnLoading) {
                btnText.style.display = 'inline';
                btnLoading.style.display = 'none';
            }
            submitBtn.disabled = false;
        }
    });
}

// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç
function sendViaEmail(formData) {
    const subject = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—é DEAI';
    const body = `
–ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—é "Digitalization of Education in the Era of AI":

–§–ò–û: ${formData.name}
Email: ${formData.email}
–¢–µ–ª–µ—Ñ–æ–Ω: ${formData.phone || '–ù–µ —É–∫–∞–∑–∞–Ω'}
–°—Ç—Ä–∞–Ω–∞: ${formData.country || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}
–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: ${formData.organization}
–†–æ–ª—å: ${formData.role}
–§–æ—Ä–º–∞—Ç —É—á–∞—Å—Ç–∏—è: ${formData.format}
${formData.topic ? `–¢–µ–º–∞ –¥–æ–∫–ª–∞–¥–∞: ${formData.topic}` : ''}
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: ${formData.comments || '–ù–µ—Ç'}

–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å —Å–∞–π—Ç–∞: ${window.location.href}
    `;
    
    const mailtoLink = `mailto:decai@almau.edu.kz?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
    showFormMessage('üìß –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–∏—Å—å–º–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.', 'info');
    
    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç
    setTimeout(() => {
        window.location.href = mailtoLink;
    }, 1500);
}
    

    

    // ===== SPEAKERS SHOW MORE/LESS =====
    const showMoreBtn = document.getElementById('show-more-speakers');
    const addlCards = document.querySelectorAll('#speakers-list .addl');
    let expanded = false;

    if (showMoreBtn && addlCards.length > 0) {
        console.log('üé§ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ —Å–ø–∏–∫–µ—Ä–æ–≤:', addlCards.length, '—Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫');
        showMoreBtn.addEventListener('click', () => {
            expanded = !expanded;
            console.log('üé§ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ø–∏–∫–µ—Ä–æ–≤:', expanded ? '–ø–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ' : '–ø–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—å—à–µ');
            addlCards.forEach(el => el.style.display = expanded ? 'block' : 'none');
            showMoreBtn.textContent = expanded ? 
                translations[currentLang]['show-less-speakers'] : 
                translations[currentLang]['show-more-speakers'];
        });
    }

    // ===== INFO TOGGLE BUTTONS =====
    const infoToggles = document.querySelectorAll('.info-toggle');
    console.log('‚ÑπÔ∏è –ù–∞–π–¥–µ–Ω–æ toggle –∫–Ω–æ–ø–æ–∫:', infoToggles.length);
    
    infoToggles.forEach(btn => {
        btn.addEventListener('click', function() {
            const content = this.nextElementSibling;
            if (content && content.classList.contains('info-content')) {
                const isVisible = content.style.display === 'block';
                console.log('üìñ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:', isVisible ? '—Å–∫—Ä—ã—Ç—å' : '–ø–æ–∫–∞–∑–∞—Ç—å');
                content.style.display = isVisible ? 'none' : 'block';
                this.classList.toggle('active');
            }
        });
    });

    console.log('‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
});

// –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–ø–∏–∫–µ—Ä–æ–≤ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
function updateSpeakersButton() {
    const showMoreBtn = document.getElementById('show-more-speakers');
    const addlCards = document.querySelectorAll('#speakers-list .addl');
    let expanded = false;
    
    if (showMoreBtn) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–∫—Ä—ã—Ç—ã –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏
        if (addlCards.length > 0) {
            expanded = addlCards[0].style.display === 'block';
        }
        
        showMoreBtn.textContent = expanded ? 
            translations[currentLang]['show-less-speakers'] : 
            translations[currentLang]['show-more-speakers'];
    }
}

// –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º changeLanguage –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ —Å–ø–∏–∫–µ—Ä–æ–≤
const originalChangeLanguage = changeLanguage;
changeLanguage = function(lang) {
    console.log('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏ –∫–Ω–æ–ø–∫–∏ —Å–ø–∏–∫–µ—Ä–æ–≤');
    originalChangeLanguage(lang);
    updateSpeakersButton();
};
